---
title: 操作系统相关
author: edxuanlen
top: false
cover: false
toc: true
mathjax: false
date: 2020-08-10 10:45:01
img:
coverImg:
password:
summary:
tags:
    - OS
    - Interview
categories:
    - OS
    - Interview
description: 操作系统的相关问题
---


## 操作系统

### 进程和线程

#### 进程和线程的区别

进程是操作系统资源分配的最小单位
线程是程序执行的最小单位

进程有独立的内存空间，线程共享进程的内存空间

#### 线程调度

- 时间片轮转调度
- 先来先服务调度
- 高优先权优先调度

#### 线程切换步骤

线程的上下文切换，切换的代价

#### 线程间通信 -- IPC

- 共享内存
- UnixSocket
- MessageQueue
- Signal
- Semaphore
- Pipe

#### 协程

- 协程既不是进程也不是线程，协程仅仅是一个特殊的函数，协程它进程和进程不是一个维度的。
- 一个进程可以包含多个线程，一个线程可以包含多个协程。

更轻量化，在用户态调用，代价比线程上下文切换低，Java第三方协程框架




## Linux

- 体系结构主要分为用户态和内核态(kernel)
- 内核: 本质是一段管理计算机硬件设备的程序
- 系统调用: 内核的访问接口，是一种能够能再简化的操作
- 公用函数库: 系统调用的组合拳
- Shell: 命令解释器，可编程



man 2(系统调用) 3(公共库函数)

```shell
man 2 syscalls
man 2 acct
```

### find

语法

```sh
find path [options] params
```

指定目录下查找文件
-iname 可以忽略大小写

### grep

```sh
grep [options] pattern file
grep -o pattern # 选出满足条件的
grep -v pattern # 过滤包含该pattern的
```

- 全称: Global Regular Expression Print
- 作用: 查找文件里符合条件的字符串

### 管道 |

- 可将指令连接起来，前一个指令的输出作为后一个指令的输入
- 只能处理前一个指令的正确输出，无法处理错误
- 右边的命令必须能够接收标准输入流，否则传递过程中数据会被抛弃
    - 如sed, awk, grep, cut, head, top, less, more, wc, join, sort, split

### 统计

#### awk 

```sh
awk [options] 'command' file
```

awk -f 设置分隔符
 

- 一次读取一行文本，按输入分隔符进行切片，切成多个组合部分
- 将切片直接保存在内建的变量中，$1,$2...$0表示行的全部
- 支持对单个切片的判断，支持循环判断，默认分隔符为空格

### 替换

#### sed

```sh
sed [option] 'sed command' file
sed -i 's/^Str/String/' replace.java
sed -i 's/\.$/\;' replace.java
```

- 全名 stream editor 流编辑器
- 适合用于对文本的行内容进行处理
