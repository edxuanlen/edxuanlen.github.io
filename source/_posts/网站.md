---
title: 网站搭建
date: 2018-03-20 13:18:37
tags: 网站
categories: 网站
description: 某公司的官网搭建，对于一些网站建设的坑的一些解决办法。

---


# MySQL的坑

1. 新版本安装无提示设 root 用户密码。

```
sudo mysql -u root --skip-password
mysql > alter user 'root'@'localhost' identified by 'xxxxxxxxx'; // xx is new password
```

2. 忘了 root 密码
先find mysql 的 .cnf 配置文件
找到[mysqld] 的下一行写入

```
skip -grant -tables
mysql
mysql > alter ....
mysql > flush privaileges;
```
记得要重启mysql服务


# Apache2的坑

1. 开多端口多路径

ports.conf 文件中添加 "Listen + 端口号"。
sites-availabe/000-default-conf文件中添加如下代码
```
<VirtualHost *:61212>
     ServerAdmin webmaster@localhost:61212
     DocumentRoot /home/edxuanlen/Documents/ftp
     ServerName localhost
     ErrorLog ${APACHE_LOG_DIR}/error.log
     CustomLog ${APACHE_LOG_DIR}/access.log combined
</VirtualHost>
```
apache2.conf 文件中加入

```
<Directory /home/edxuanlen/Documents/ftp >
	Options Indexes FollowSymLinks
    AllowOverride None
    Require all granted
</Directory>
```

service apache2 restart

3. Phpstorm 的使用

提示mysqli为定义类，其实是因为没有下载 php-mysql 这个文件
```
apt-get install php-mysql
```

端口问题，一直无法通过浏览器显示。报cgi错误。
```
apt-get install php7.2-cgi
```
4. Php 的使用

php-bcmath
php-mysqli
libapache2-mod-php7

